<!-- Horizontal Form -->
<div class="box box-info">
    <div class="box-header with-border">
        <h3 class="box-title">添加用户</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <form class="form-horizontal">
        <div class="box-body">
            <div class="form-group">
                <label for="usernameId" class="col-sm-2 control-label">用户名</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="usernameId">
                </div>
            </div>
            <div class="form-group">
                <label for="passwordId" class="col-sm-2 control-label">密码</label>

                <div class="col-sm-10">
                    <input type="password" class="form-control"  id="passwordId">
                </div>
            </div>
            <div class="form-group">
                <label for="emailId" class="col-sm-2 control-label">邮箱</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control"  id="emailId">
                </div>
            </div>
            <div class="form-group">
                <label for="phoneId" class="col-sm-2 control-label">手机号</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control"  id="phoneId">
                </div>
            </div>
            <div class="form-group">
                <label for="rolesId" class="col-sm-2 control-label">角色</label>
                <div class="col-sm-10" id="rolesId">

                </div>
            </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
            <button type="button" class="btn btn-default btn-cancel">Cancel</button>
            <button type="button" class="btn btn-info pull-right btn-save">Save</button>
        </div>
        <!-- /.box-footer -->
    </form>
</div>
<script type="text/javascript">
   /* $(document).ready(function () {

    })*/
   //这个页面的数据有用户数据和角色数据
    $(function () {
        doLoadSysRoles();
    })
    function doLoadSysRoles() {
        var url = "role/doFindObjects";
        $.getJSON(url,function (result) {
            if(result.state==1){
                //初始化页面数据
                //debugger
                doInitDivSysRoles(result.data);
            }else {
                alert(result.message);
            }
        });
    }
    function doInitDivSysRoles(data) {
        var div = $("#rolesId");
        div.empty();
        //添加name属性是为了后边取值用 没有name属性,提交时无法提交数据
        var checkBox = "<input type='checkbox' name='roleItem' value='[id]'>[name]";
        for(var i in data){
            div.append(
                    checkBox.replace("[id]",data[i].id)
                            .replace("[name]",data[i].name)
            );
        }
    }

</script>






